#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Check TypeScript compilation
echo "ğŸ“ Checking TypeScript..."
if ! npm run build >/dev/null 2>&1; then
  echo "âŒ TypeScript compilation failed!"
  echo "Please fix TypeScript errors before committing:"
  npm run build
  exit 1
fi

# Run linting
echo "ğŸ” Running ESLint..."
if ! npm run lint >/dev/null 2>&1; then
  echo "âŒ Linting failed!"
  echo "Please fix linting errors or run 'npm run lint:fix'"
  npm run lint
  exit 1
fi

echo "âœ… Pre-commit checks passed!"